@{
    ViewData["Title"] = "Join Workspace";
    ViewData["ActiveNav"] = "Workspaces";
}
<div class="row justify-content-center">
    <div class="col-md-7 col-lg-6">
        <div class="card p-4 mt-3">
            <h3 class="mb-3">Join workspace by code</h3>
            <form asp-action="Join" asp-controller="Workspaces" method="post">
                <div class="mb-3">
                    <label class="form-label">Join Code</label>
                    <input name="code" class="form-control" required maxlength="12" placeholder="ABC123" />
                </div>
                <div class="d-flex justify-content-center gap-3 mt-3 flex-wrap">
                    <button class="btn btn-primary" type="submit">Join</button>
                    <a class="btn btn-outline-secondary" href="@Url.Action("Index", "Workspaces")">Back</a>
                </div>
            </form>

            <div class="success-message" id="successMessage">
                🎉 Successfully joined the workspace!
            </div>

            <div class="error-message" id="errorMessage">
                ❌ Invalid join code. Please check and try again.
            </div>
        </div>
    </div>
</div>




<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #f8fffe 0%, #f0fdf4 100%);
        min-height: 100vh;
        padding: 40px 20px;
        line-height: 1.6;
    }

    /* Container */
    .container {
        max-width: 1200px;
        margin: 0 auto;
    }

    /* Grid System */
    .row {
        display: flex;
        flex-wrap: wrap;
        margin: 0 -15px;
    }

    .justify-content-center {
        justify-content: center;
    }

    .col-md-7 {
        flex: 1 1 60%;
        max-width: 600px;
        padding: 0 15px;
    }

    .col-lg-6 {
        flex: 1 1 50%;
        max-width: 500px;
    }

    .mt-3 {
        margin-top: 40px;
    }

    /* Card Container */
    .card {
        background: linear-gradient(145deg, #ffffff 0%, #fefffe 100%);
        border: 1px solid rgba(34, 197, 94, 0.08);
        border-radius: 24px;
        box-shadow: 0 25px 60px rgba(34, 197, 94, 0.06), 0 15px 40px rgba(0, 0, 0, 0.03);
        position: relative;
        overflow: hidden;
        transition: all 0.4s ease;
        animation: slideUp 0.8s ease-out;
    }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #22c55e 0%, #16a34a 50%, #15803d 100%);
        }

    @@keyframes slideUp {
        from

    {
        opacity: 0;
        transform: translateY(40px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }

    }

    .p-4 {
        padding: 40px;
    }

    /* Typography */
    h3 {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 8px;
        font-size: 32px;
        color: #15803d;
        margin-bottom: 32px;
        animation: fadeInLeft 0.6s ease-out 0.2s both;
        text-align: center;
    }

        h3::before {
            content: '🔗';
            font-size: 40px;
            animation: bounce 2s infinite;
        }

        h3::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 180px;
            height: 3px;
            background: linear-gradient(90deg, #22c55e, #15803d);
            border-radius: 2px;
        }

    @@keyframes fadeInLeft {
        from

    {
        opacity: 0;
        transform: translateX(-20px);
    }

    to {
        opacity: 1;
        transform: translateX(0);
    }

    }

    @@keyframes bounce {
        0%, 20%, 50%, 80%, 100%

    {
        transform: translateX(-50%) translateY(0);
    }

    40% {
        transform: translateX(-50%) translateY(-8px);
    }

    60% {
        transform: translateX(-50%) translateY(-4px);
    }

    }

    /* Form Styling */
    form {
        animation: fadeIn 0.8s ease-out 0.4s both;
    }

    @@keyframes fadeIn {
        from

    {
        opacity: 0;
    }

    to {
        opacity: 1;
    }

    }

    /* Spacing */
    .mb-3 {
        margin-bottom: 24px;
    }

    .ms-2 {
        margin-left: 16px;
    }

    /* Label Styling */
    .form-label {
        display: block;
        margin-bottom: 12px;
        color: #374151;
        font-weight: 600;
        font-size: 16px;
        letter-spacing: 0.3px;
        position: relative;
        text-align: center;
    }

        .form-label::before {
            content: '🎯';
            margin-right: 8px;
            font-size: 18px;
        }

    /* Input Styling */
    .form-control {
        width: 100%;
        padding: 20px 24px;
        border: 2px solid rgba(34, 197, 94, 0.15);
        border-radius: 16px;
        font-size: 20px;
        font-weight: 600;
        color: #374151;
        background: linear-gradient(145deg, #ffffff 0%, #f9fafb 100%);
        transition: all 0.3s ease;
        box-shadow: 0 4px 12px rgba(34, 197, 94, 0.05);
        text-align: center;
        letter-spacing: 2px;
        text-transform: uppercase;
    }

        .form-control:focus {
            outline: none;
            border-color: #22c55e;
            box-shadow: 0 0 0 6px rgba(34, 197, 94, 0.08), 0 8px 24px rgba(34, 197, 94, 0.15);
            background: linear-gradient(145deg, #f0fdf4 0%, #dcfce7 100%);
            transform: translateY(-3px) scale(1.02);
        }

        .form-control:hover {
            border-color: #16a34a;
            background: linear-gradient(145deg, #f0fdf4 0%, #dcfce7 100%);
            transform: translateY(-1px);
        }

        .form-control::placeholder {
            color: #9ca3af;
            font-style: italic;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

    /* Button Styling */
    .btn {
        padding: 16px 32px;
        border-radius: 12px;
        font-weight: 600;
        font-size: 16px;
        transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        border: 2px solid;
        position: relative;
        overflow: hidden;
        cursor: pointer;
        text-decoration: none;
        display: inline-block;
        text-align: center;
        min-width: 120px;
    }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.6s ease;
        }

        .btn:hover::before {
            left: 100%;
        }

    .btn-primary {
        background: linear-gradient(135deg, #22c55e 0%, #15803d 100%);
        border-color: #15803d;
        color: white;
        box-shadow: 0 6px 20px rgba(34, 197, 94, 0.3);
    }

        .btn-primary:hover {
            background: linear-gradient(135deg, #15803d 0%, #14532d 100%);
            border-color: #14532d;
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(34, 197, 94, 0.4);
            color: white;
            text-decoration: none;
        }

    .btn-outline-secondary {
        background: transparent;
        color: #6b7280;
        border-color: #d1d5db;
        box-shadow: 0 4px 16px rgba(107, 114, 128, 0.15);
    }

        .btn-outline-secondary:hover {
            background: linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%);
            border-color: #9ca3af;
            color: #374151;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(107, 114, 128, 0.25);
            text-decoration: none;
        }

    /* Button Container */
    .button-container {
        display: flex;
        gap: 16px;
        justify-content: center;
        margin-top: 32px;
    }

    /* Validation Styling */
    .form-control:valid:not(:placeholder-shown) {
        border-color: #22c55e;
        background-repeat: no-repeat;
        background-position: right 20px center;
        background-size: 20px;
        padding-right: 40px;
    }

    .form-control:invalid:not(:placeholder-shown) {
        border-color: #ef4444;
        background-repeat: no-repeat;
        background-position: right 20px center;
        background-size: 20px;
        padding-right: 60px;
    }

    /* Success Message */
    .success-message {
        background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);
        color: #15803d;
        padding: 20px 24px;
        border-radius: 16px;
        margin-top: 24px;
        text-align: center;
        font-weight: 600;
        border: 2px solid #22c55e;
        animation: slideDown 0.5s ease-out;
        display: none;
    }

    @@keyframes slideDown {
        from

    {
        opacity: 0;
        transform: translateY(-20px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }

    }

    /* Error Message */
    .error-message {
        background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
        color: #dc2626;
        padding: 20px 24px;
        border-radius: 16px;
        margin-top: 24px;
        text-align: center;
        font-weight: 600;
        border: 2px solid #ef4444;
        animation: slideDown 0.5s ease-out;
        display: none;
    }

    /* Responsive Design */
    @@media (max-width: 992px) {
        .col-lg-6

    {
        flex: 0 0 75%;
        max-width: 75%;
    }

    }

    @@media (max-width: 768px) {
        body

    {
        padding: 20px 15px;
    }

    .col-md-7 {
        flex: 0 0 100%;
        max-width: 100%;
    }

    .p-4 {
        padding: 24px;
    }

    h3 {
        font-size: 26px;
        padding-left: 0;
    }

        h3::before {
            font-size: 32px;
            top: -35px;
        }

    .form-control {
        padding: 16px 20px;
        font-size: 18px;
    }

    .btn {
        padding: 14px 24px;
        font-size: 15px;
        width: 100%;
        margin-bottom: 12px;
    }

    .button-container {
        flex-direction: column;
        gap: 12px;
    }

    .ms-2 {
        margin-left: 0;
    }

    }

    @@media (max-width: 576px) {
        h3

    {
        font-size: 22px;
    }

    h3::before {
        font-size: 28px;
        top: -30px;
    }

    h3::after {
        width: 140px;
    }

    .p-4 {
        padding: 20px;
    }

    .form-control {
        font-size: 16px;
        letter-spacing: 1px;
    }

    }

    /* Loading States */
    .btn:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        transform: none !important;
    }

    /* Animation Delays */
    .form-label {
        animation: fadeInUp 0.6s ease-out 0.1s both;
    }

    .form-control {
        animation: fadeInUp 0.6s ease-out 0.2s both;
    }

    .button-container {
        animation: fadeInUp 0.6s ease-out 0.3s both;
    }

    @@keyframes fadeInUp {
        from

    {
        opacity: 0;
        transform: translateY(20px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }

    }
</style>

<script>
    // Form submission handling
    document.querySelector('form').addEventListener('submit', function(e) {

        const submitBtn = this.querySelector('.btn-primary');
        const codeInput = this.querySelector('input[name="code"]');
        const successMsg = document.getElementById('successMessage');
        const errorMsg = document.getElementById('errorMessage');
        const originalText = submitBtn.textContent;

        // Hide previous messages
        successMsg.style.display = 'none';
        errorMsg.style.display = 'none';

        // Validate join code format (6 characters, alphanumeric)
        const code = codeInput.value.trim().toUpperCase();
        if (code.length < 3 || code.length > 12) {
            errorMsg.textContent = '❌ Join code must be between 3-12 characters.';
            errorMsg.style.display = 'block';
            codeInput.focus();
            return;
        }

        // Show loading state
        submitBtn.disabled = true;
        submitBtn.innerHTML = '🔄 Joining...';

        // Simulate form processing
        setTimeout(() => {
            // Simulate success/failure (90% success rate for demo)
            const isSuccess = Math.random() > 0.1;

            if (isSuccess) {
                submitBtn.innerHTML = '✅ Joined!';
                submitBtn.style.background = 'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)';
                submitBtn.style.borderColor = '#16a34a';

                successMsg.textContent = `🎉 Successfully joined workspace with code: ${code}`;
                successMsg.style.display = 'block';

                // Redirect after success
                setTimeout(() => {
                    window.location.href = '#'; // Would redirect to workspace details
                }, 2000);
            } else {
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;

                errorMsg.textContent = `❌ Workspace with code "${code}" not found or is inactive.`;
                errorMsg.style.display = 'block';
                codeInput.focus();
                codeInput.select();
            }
        }, 2000);
    });

    // Real-time input validation and formatting
    document.querySelector('input[name="code"]').addEventListener('input', function() {
        // Convert to uppercase and remove invalid characters
        let value = this.value.toUpperCase().replace(/[^A-Z0-9]/g, '');

        // Limit to maxlength
        if (value.length > 12) {
            value = value.substring(0, 12);
        }

        this.value = value;

        // Visual feedback
        if (value.length >= 3 && value.length <= 12) {
            this.style.borderColor = '#22c55e';
            this.style.background = 'linear-gradient(145deg, #f0fdf4 0%, #dcfce7 100%)';
        } else if (value.length > 0) {
            this.style.borderColor = '#ef4444';
            this.style.background = 'linear-gradient(145deg, #fef2f2 0%, #fee2e2 100%)';
        } else {
            this.style.borderColor = 'rgba(34, 197, 94, 0.15)';
            this.style.background = 'linear-gradient(145deg, #ffffff 0%, #f9fafb 100%)';
        }
    });

    // Add ripple effect to buttons
    document.querySelectorAll('.btn').forEach(btn => {
        btn.addEventListener('click', function(e) {
            const ripple = document.createElement('span');
            const rect = this.getBoundingClientRect();
            const size = Math.max(rect.width, rect.height);
            const x = e.clientX - rect.left - size / 2;
            const y = e.clientY - rect.top - size / 2;

            ripple.style.cssText = `
                position: absolute;
                width: ${size}px;
                height: ${size}px;
                left: ${x}px;
                top: ${y}px;
                background: rgba(255, 255, 255, 0.3);
                border-radius: 50%;
                transform: scale(0);
                animation: ripple 0.6s ease-out;
                pointer-events: none;
            `;

            this.appendChild(ripple);

            setTimeout(() => ripple.remove(), 600);
        });
    });

    // Auto-focus on the input field
    document.addEventListener('DOMContentLoaded', function() {
        setTimeout(() => {
            document.querySelector('input[name="code"]').focus();
        }, 800);
    });

    // Add CSS for ripple animation
    const style = document.createElement('style');
    style.textContent = `
        @@keyframes ripple {
            to {
                transform: scale(2);
                opacity: 0;
            }
        }
    `;
    document.head.appendChild(style);
</script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'979489fa11e76f7a',t:'MTc1Njg5NTA4Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script>